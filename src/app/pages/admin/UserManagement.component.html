<p-table [value]="users">
  <ng-template pTemplate="header">
    <tr>
      <th>ID</th>
      <th>Email</th>
      <th>Password</th>
      <th>Type</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr>
      <td>{{ user.id }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.password }}</td>
      <td>{{ user.type }}</td>
      <td>
        <p-button label="Edit" icon="pi pi-pencil" (click)="editUser(user)"></p-button>
        <p-button label="Delete" icon="pi pi-trash" (click)="deleteUser(user.id)"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- Button to open the dialog -->
<p-button label="Add User" icon="pi pi-plus" (click)="openNew()"></p-button>

<!-- Dialog for add/edit user -->
<p-dialog header="User Details" [(visible)]="userDialog" [modal]="true" [style]="{width: '50vw'}">
  <div class="p-fluid">
    <div class="p-field">
      <label for="email">Email</label>
      <input id="email" type="text" pInputText [(ngModel)]="selectedUser.email" />
    </div>
    <div class="p-field">
      <label for="password">Password</label>
      <input id="password" type="password" pInputText [(ngModel)]="selectedUser.password" />
    </div>
    <div class="p-field">
      <label for="type">Type</label>
      <p-dropdown 
        [options]="userTypes" 
        [(ngModel)]="selectedUser.type" 
        placeholder="Select Type" 
        [style]="{ width: '100%' }">
      </p-dropdown>
    </div>
  </div>
  
  <!-- Footer directement dans le p-dialog -->
  <div class="p-dialog-footer">
    <p-button label="Save" icon="pi pi-check" (click)="saveUser()"></p-button>
    <p-button label="Cancel" icon="pi pi-times" (click)="hideDialog()"></p-button>
  </div>
</p-dialog>
